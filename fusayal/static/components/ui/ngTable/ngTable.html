<div class="row" id="{{form.id}}">    <div class="col-md-12">        <div class="card {{form.clspnl}}" style="margin-bottom: 0">            <!--Parte de arriba del grid-->            <div class="card-header" style="padding: 5px 15px;" ng-if="!ocultacab">                <div class="row" id="cabecera"> <!--el id sirve para el gotoUp-->                    <div class="{{form.busq === true? (form.selectgen ? 'col-md-3':'col-md-5'):'col-md-8'}}">                        <span> {{form.titulo}} ({{form.numdatos}})</span>                    </div>                    <div ng-if="form.pag === true" class="{{form.busq === true?'col-md-3':'col-md-4'}}">                        <span ng-if="form.nroPags>0"> Página {{form.currentPage + 1}} de {{form.nroPags}}</span>                    </div>                    <div class="col-md-5" ng-if="form.selectgen">                        <div class="row">                            <div class="col-sm-5">                                <h5> {{form.selectgen.label}}: </h5>                            </div>                            <div class="col-sm-7">                                <select class="form-control"                                        ng-model="form.selectgen.model"                                        ng-options="item[form.selectgen.opcvalue] as                                                        item[form.selectgen.opciondescr] for item in form.selectgen.lstselect"                                        ng-change="form.selectgen.func(form.selectgen.model)">                                    <option value="">{{form.selectgen.labelLista}}</option>                                </select>                            </div>                        </div>                    </div>                    <div class="col-md-4" style="padding: 0 4px 0 0;" ng-show="form.busq === true">                        <div>                            <input type="text" class="form-control" placeholder="Buscar ..."                                   ng-model="busqueda[form.filterby]"                                   ng-show="form.lstdatos.length > 0 && !form.filtros && !form.botongeneral"                                   ng-change="onChgBusqueda(busqueda[form.filterby])">                            <div class="input-group" ng-show="form.filtros">                                <input type="text" class="form-control" placeholder="Buscar ..."                                       ng-model="busqueda[form.filterby]"                                       ng-change="onChgBusqueda(busqueda[form.filterby])">                                <div class="input-group-btn">                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"                                            aria-expanded="false">                                        Filtro <span class="caret"></span>                                    </button>                                    <ul class="dropdown-menu dropdown-menu-right" role="menu">                                        <li ng-repeat="it in form.filtros.items"                                            ng-class="{'active': form.selec===$index}">                                            <a href ng-click="form.filtros.func($index); setSelec($index);">{{it}}</a>                                        </li>                                    </ul>                                </div>                            </div>                            <div class="input-group" ng-show="form.botongeneral" style="text-align: right">                                <input type="text" class="form-control" placeholder="Buscar ..."                                       ng-model="busqueda[form.filterby]"                                       ng-change="onChgBusqueda(busqueda[form.filterby])"                                       ng-show="form.lstdatos.length > 0">                                <div class="input-group-btn">                                    <button type="button" class="btn btn-default " ng-click="form.botongeneral.click()">                                        <i class="{{form.botongeneral.icon}}"></i>&nbsp; {{form.botongeneral.label}}                                    </button>                                </div>                            </div>                        </div>                    </div>                </div>                <div class="row" ng-style="formfiltros?'margin-top:2px;':''" ng-if="form.filtros">                    <div class="col-md-12">                        <ng-transclude>                        </ng-transclude>                    </div>                </div>            </div>            <!--Cuerpo del grid-->            <div class="row" ng-if="form.txthead.texto && form.lstdatos.length > 0">                <div class="col-md-12">                    <p style="padding:5px; margin: 5px;" ng-style="{{form.txthead.style}}"                       class="{{form.txthead.class}}">{{form.txthead.texto}}</p>                </div>            </div>            <div class="row" ng-if="form.lstdatos.length === 0">                <div class="col-md-12">                    <br>                    <p class="text-center text-muted"><i>No existen datos!!</i></p>                    <br>                </div>            </div>            <div class="table-responsive" ng-if="form.lstdatos.length > 0">                <table class=" table table-bordered table-hover table-sm {{striped?'table-striped':''}}">                    <thead class="thead-light">                    <tr>                        <th ng-repeat="c in form.lstcols"                            style="vertical-align: middle; line-height: 14px;{{setOtrStyle(c)}}"                            class="{{c.editable?'success':''}}"                            ng-class="{'hand':form.ordenar===true}" ng-click="clickcolheader(c.prop)">                            <label style="margin-bottom: 0" ng-click="setOrder(c.prop); ">                                {{c.label}}                                <i ng-if="form.ordenar === true"                                   ng-class="form.predicate !== c.prop ? 'fas fa-sort': (form.reverse?'fas fa-sort-down':'fas fa-sort-up')"></i>                            </label>                        </th>                        <th ng-if="botones" style="text-align: center">                            Acciones                        </th>                        <th ng-if="checks" ng-if="form.checks.hideColumncheck? form.checks.hideColumncheck==false:true"                            style="width:3%;">                            <input type="checkbox" style="margin: 0px; padding: 0px;"                                   ng-click="form.checks.funcall()" ng-hide="{{form.checks.hideHead}}"                                   ng-checked="form.checks.chkAll">                            <div ng-if="lstopcchecks" class="btn-group">                                <button type="button" class="btn btn-default btn-xs dropdown-toggle"                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                                    <span class="caret"></span>                                </button>                                <ul class="dropdown-menu dropdown-menu-right" role="menu">                                    <li ng-repeat="o in lstopcchecks">                                        <a href ng-click="onchecklista(lstopcchecks,o);form.checks.funcall(o);"                                           style="color: #333">                                            <i ng-class=" o.sel===true?'far fa-check-square':'far fa-square '"></i>                                            &nbsp;{{o.opcion}}                                        </a>                                    </li>                                </ul>                            </div>                        </th>                    </tr>                    </thead>                    <tbody>                    <tr ng-repeat="i in form.lstdatos | filter: busqueda | startFrom: form.currentPage * form.pageSize | limitTo: form.pageSize track by fnTrackBy(i, $index)"                        ng-style="{{form.rowopc.style}}" ng-class="{{form.rowopc.class}}"                        ng-click="form.rowopc.func(i, i.$index_row);"                        class="{{checks&&i[form.checks.model]===true?'table-primary hand':form.rowopc.func?'hand':''}}">                        <!--columnas de la tabla -->                        <td ng-repeat="c in form.lstcols"                            style="line-height: 14px; padding: 0;vertical-align: middle;{{setOtrStyle(c)}};"                            ng-style="{{form.colopc.style}}" ng-click="form.colopc.func(c.prop, i);"                            ng-class="{{form.colopc.class}}">                            <div ng-if="!c.editable && !c.combo && !c.boton && !c.check"                                 style="padding: 0; margin: 0; padding: 5px;" ng-hide="{{c.hide}}"                                 ng-style="{{c.style}}" title="{{i[c.tooltip]}}" class="{{c.link?'hand lkfn':''}}">                                <p class="{{c.link?'btn-link':''}}" style="margin:0; color:#333;">                                    {{c.filter?filtrar(c.filter, i[c.prop]): i[c.prop]}}</p>                            </div>                            <!--solo para edición de números por el valor estatico en width-->                            <!--ng-keyup="onKeyUpColEdit(i.$index_row, $index, c.type, i[c.prop])" // anterior-->                            <div ng-if="c.editable && !c.combo && !c.boton && !c.check" style="padding: 0; margin: 0;"                                 ng-hide="{{c.hide}}" ng-style="{{c.style}}"                                 class="{{i.$editado === true?'itemedit':i.$error === true?'itemerror':'itemnorm'}}">                                <input id="{{setIdCol(i.$index_row, $index)}}"                                       style="border: hidden; height: 25px; width: 100%; color: #333; background-color: transparent;"                                       type="text" ng-model="i[c.prop]"                                       ng-keydown="onKeyDownColEdit($event, i.$index_row, $index, i[c.prop])"                                       ng-keyup="form.colopc.onkeymove(i.$index_row, $index)"                                       ng-change="form.colopc.funchgval(c.prop, i, i.$index_row, $index)"                                       input-mask="{mask:'{{c.mask}}'}" placeholder="{{c.placeholder}}"                                       ng-disabled="{{c.disabled}}" ng-style="{{c.iptstyle}}">                            </div>                            <!-- cuando se necesite selects -->                            <div ng-if="c.combo && !c.boton">                                <div ng-if="c.combo.lista">                                    <select ng-options="l[c.combo.cod] as l[c.combo.prop] for l in c.combo.lista"                                            ng-model="i[c.prop]"                                            ng-init="i[c.prop] === undefined?i[c.prop]=c.combo.lista[0][c.combo.cod]:i[c.prop]"                                            ng-change="funccombo(i[c.prop], i)" style="color: #333333;"                                            class="form-control">                                    </select>                                </div>                                <div ng-if="!c.combo.lista">                                    <select ng-options="l[c.combo.cod] as l[c.combo.prop] for l in i['listafila']"                                            ng-model="i[c.prop]"                                            ng-init="i[c.prop] === undefined?i[c.prop]=c.combo.lista[0][c.combo.cod]:i[c.prop]"                                            ng-change="funccombo(i[c.prop], i)" style="color: #333333;"                                            class="form-control">                                    </select>                                </div>                            </div>                            <div ng-if="c.boton">                                <button class="btn btn-default btn-sm center-block" ng-click="funcbtncol(i[c.prop], i)"                                        style="text-align: center;">{{i[c.prop]}}                                </button>                            </div>                            <div ng-if="c.check" style="text-align: center">                                <a class="btn" role="button" style="border-color: transparent"                                   ng-click="c.editable?cambiaCheck(i, c):''">                                    <i ng-class="i[c.prop]=== c.check.valuecheck? 'far fa-check-square': 'far fa-square'"                                       class="fa text-primary"></i>                                    {{c.check.labelcheck}}                                </a>                            </div>                        </td>                        <!--columna de botones-->                        <td ng-if="botones" ng-style="{{form.colopc.style}}" style="vertical-align: middle;">                            <table style="margin: auto;">                                <tr>                                    <td ng-repeat="btn in form.botones track by $index">                                        <button type="button" class="btn btn-sm {{btn.style? btn.style:'btn-default' }}"                                                ng-click="btn.func(i, i.$index_row)" ng-hide="{{btn.hide}}"                                                ng-disabled="btn.disablewhen(i)" title="{{btn.title}}">                                            <i class="{{btn.icon}}"></i> {{btn.label}}                                        </button>                                    </td>                                </tr>                            </table>                        </td>                        <!--columna de checkboxes-->                        <td ng-if="checks" style="line-height: 14px; vertical-align: middle"                            ng-show="form.checks.hideColumncheck? form.checks.hideColumncheck==false:true"                            ng-style="{{form.colopc.style}}" ng-class="{{form.colopc.class}}"                            ng-click="(i[form.checks.model]===false || i[form.checks.model]===undefined) && !$parent.$eval(form.checks.hide)?                                        i[form.checks.model]=true:i[form.checks.model]=false;form.checks.func(i, i.$index_row); $event.stopPropagation();">                            <input type="checkbox" style="margin: 0; padding: 0;" ng-model="i[form.checks.model]"                                   ng-click="form.checks.func(i, i.$index_row); $event.stopPropagation();"                                   ng-hide="{{form.checks.hide}}">                        </td>                    </tr>                    </tbody>                    <tfoot ng-if="footopc">                    <tr ng-repeat="lst in footopc">                        <td ng-repeat="o in lst" colspan="{{o.colspan}}" ng-style="{{o.style}}">                            {{o.filter?filtrar(o.filter, o.value): o.value}}                        </td>                    </tr>                    </tfoot>                </table>            </div>            <!-- Sección de totales -->            <div class="row" ng-if="form.lstdatos.length > 0 && form.totales.length > 0">                <div class="col-md-12">                    <table class="table" style="margin: 0">                        <tbody>                        <tr>                            <td ng-repeat="t in form.totales" style="text-align: center; line-height: 12px;">                                <label> {{t.label}} </label> :                                <p ng-style="{{t.style}}" style="margin-bottom: 0">{{t.filter?filtrar(t.filter,                                    t.value):t.value}}</p>                            </td>                        </tr>                        </tbody>                    </table>                </div>            </div>            <!-- Paginación -->            <div class="btn-group btn-group-justified" role="group" ng-if="form.nroPags>1">                <div class="btn-group" role="group">                    <a type="button" class="btn btn-default" ng-disabled="form.currentPage===0"                       ng-click="setCurrentPage(0); funcpag();gotoUp();">                        <i class="fas fa-angle-double-left" style="font-weight: bold"></i>                    </a>                </div>                <div class="btn-group" role="group">                    <a type="button" class="btn btn-default" ng-disabled="form.currentPage===0"                       ng-click="form.currentPage!==0?setCurrentPage(form.currentPage-1):setCurrentPage(0);funcpag();gotoUp();">                        <i class="fas fa-angle-left" style="font-weight: bold"></i>                    </a>                </div>                <div class="btn-group" role="group">                    <select class="form-control"                            ng-options="o for o in form.optpags"                            ng-model="form.pageSize"                            ng-change="numberOfPages()">                    </select>                </div>                <div class="btn-group" role="group">                    <a type="button" class="btn btn-default" ng-disabled="form.currentPage===form.nroPags-1"                       ng-click="form.currentPage!==form.nroPags-1?setCurrentPage(form.currentPage+1):setCurrentPage(form.nroPags-1);funcpag();gotoUp();">                        <i class="fas fa-angle-right" style="font-weight: bold"></i>                    </a>                </div>                <div class="btn-group" role="group">                    <a type="button" class="btn btn-default" ng-disabled="form.currentPage===form.nroPags-1"                       ng-click="setCurrentPage(form.nroPags-1);funcpag();gotoUp();">                        <i class="fas fa-angle-double-right" style="font-weight: bold"></i>                    </a>                </div>            </div>        </div>    </div></div>