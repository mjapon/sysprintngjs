<servi-page-header>
    Registro de orden de trabajo
</servi-page-header>

<div class="row">
    <div class="col-md-12">

        <!--
        <div class="card">
            <div class="card-header">
                <ul class="nav nav-tabs card-header-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#"> <span class="badge badge-primary">1</span> Contribuyente</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"> <span class="badge badge-secondary">2</span> Autorización</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#"> <span class="badge badge-secondary">3</span> Orden de trabajo</a>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <h5 class="card-title">Special title treatment</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
        </div>
        -->

        <div class="card">
            <div class="card-header">

                <ul class="nav nav-pills card-header-tabs">
                    <!--
                    <li class="nav-item">
                        <a class="nav-link {{currentStep===1?'active':''}}" > <span class="badge {{currentStep===1?'badge-primary':'badge-secondary'}} ">1</span> Contribuyente</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{currentStep===2?'active':''}}"> <span class="badge {{currentStep===2?'badge-primary':'badge-secondary'}}">2</span> Autorización</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{currentStep===3?'active':''}}"> <span class="badge {{currentStep===3?'badge-primary':'badge-secondary'}}">3</span> Orden de trabajo</a>
                    </li>
                    -->
                    <li class="nav-item">
                        <a class="nav-link {{currentStep===1?'active':''}}"> <span
                                class="badge {{currentStep===1?'badge-light':'badge-secondary'}} ">1</span>
                            Contribuyente</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{currentStep===2?'active':''}}"> <span
                                class="badge {{currentStep===2?'badge-light':'badge-secondary'}}">2</span> Autorización</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{currentStep===3?'active':''}}"> <span
                                class="badge {{currentStep===3?'badge-light':'badge-secondary'}}">3</span> Orden de
                            trabajo</a>
                    </li>
                </ul>

            </div>
            <div class="card-body">
                <br>
                <!--Datos del contribuyente-->
                <div ng-show="currentStep===1">

                    <div class="row">
                        <div class="col-md-8">
                            <div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <span class="gridRed"> * </span> RUC:
                                    </div>
                                    <div class="col-md-8">
                                        <div class="input-group">
                                            <input type="text" id="cnt_ruc" class="form-control"
                                                   ng-model="formContrib.cnt_ruc"
                                                   ng-required="true"
                                                   input-mask="{mask:'9999999999999'}"
                                                   ng-enter="onEnterFindContrib()"
                                                   ng-disabled="formContrib.cnt_id>0">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary" type="button"
                                                        id="button-addon2" ng-click="findContrib()">Buscar
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        <span class="gridRed"> * </span> Razón Social:
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="formContrib.cnt_razonsocial"
                                               ng-focus="onFocusContribRazonSocial()"
                                               capitalize
                                               ng-required="true" id="cnt_razonsocial">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        Nombre Comercial:
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control"
                                               ng-model="formContrib.cnt_nombrecomercial"
                                               capitalize
                                               ng-required="true">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        Telf:
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="formContrib.cnt_telf">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        Email:
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="formContrib.cnt_email">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        <span class="gridRed"> * </span> Dirección Matriz:
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="formContrib.cnt_dirmatriz"
                                               capitalize
                                               ng-required="true">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        <span class="gridRed"> * </span> Clase:
                                    </div>
                                    <div class="col-md-8">
                                        <select class="form-control"
                                                ng-model="formContrib.cnt_clase"
                                                ng-options="clase.cls_id as clase.cls_nombre for clase in tiposcontrib">
                                        </select>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        Nro Contribuyente Especial:
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control"
                                               ng-model="formContrib.cnt_nrocntespecial">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        Obligado a llevar contabilidad:
                                    </div>
                                    <div class="col-md-8">
                                        <i class="{{formContrib.cnt_oblcontab===1 ? 'fas fa-check-square':'far fa-square' }}"
                                           ng-click="formContrib.cnt_oblcontab = formContrib.cnt_oblcontab===1?0:1"></i>
                                        <!--
                                        <input type="checkbox"
                                               ng-model="formContrib.cnt_oblcontab"
                                               ng-value-true="1"
                                               ng-value-false="0"
                                               ng-checked="formContrib.cnt_oblcontab === 1"/>
                                               -->
                                    </div>
                                </div>
                                <br/>
                                <div class="row">
                                    <div class="col-md-12">
                                        <button class="btn btn-outline-primary" type="button"
                                                ng-click="guardarContrib()">Siguiente
                                            <span class="fa fa-angle-right"></span>
                                        </button>

                                        <!--?<button class="btn btn-default" ng-click="cancelar()"> Cancelar</button>-->
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-4">

                        </div>
                    </div>
                </div>

                <div ng-show="currentStep===2">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-4">
                                    Serie:
                                </div>
                                <div class="col-md-8">
                                    <input type="text" id="aut_serie" class="form-control" ng-model="formAut.aut_serie"
                                           placeholder="001-001"
                                           input-mask="{mask:'999-999'}"/>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    Numero de autorización:
                                </div>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" ng-model="formAut.aut_numero"
                                           input-mask="{mask:'9999999999'}"/>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    Fecha de autorización:
                                </div>
                                <div class="col-md-8">
                                    <servi-fecha elementid="e_fechaaut2" model="formAut.aut_fechaautorizacion"
                                                 required="true" onenter="onenterfecha()"></servi-fecha>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    Fecha de caducidad:
                                </div>
                                <div class="col-md-8">
                                    <servi-fecha elementid="e_fechaaut1" model="formAut.aut_fechacaducidad"
                                                 required="true"></servi-fecha>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    Tipo Documento:
                                </div>
                                <div class="col-md-8">
                                    <select class="form-control"
                                            ng-model="formAut.aut_tipodoc"
                                            ng-options="tipodoc.td_id as tipodoc.td_nombre for tipodoc in listas.tiposdoc">
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <label for="">Secuencia Inicial:</label>
                                </div>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" ng-model="formAut.aut_secuencia_ini"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="">Secuencia Final:</label>
                                </div>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" ng-model="formAut.aut_secuencia_fin"/>
                                </div>
                            </div>

                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <button class="btn btn-outline-primary" type="button"
                                            ng-click="guardarAutorizacion()">
                                        Siguiente <span class="fa fa-angle-right"></span>
                                    </button>
                                    <button class="btn btn-outline-secondary" type="button" ng-click="anterior()">
                                        Cancelar
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div ng-show="currentStep===3">
                    <div class="row">
                        <div class="col-md-8">

                            <div class="row">
                                <div class="col-md-5">
                                    <b>Fecha de autorización:</b>
                                </div>
                                <div class="col-md-7">
                                    {{formAut.aut_fechaautorizacion}}
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-5">
                                    <b>Fecha de caducidad:</b>
                                </div>
                                <div class="col-md-7">
                                    {{formAut.aut_fechacaducidad}}
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-5">
                                    <b>Serie:</b>
                                </div>
                                <div class="col-md-7">
                                    {{formAut.serie}}
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-5">
                                    <b>Documento:</b>
                                </div>
                                <div class="col-md-7">
                                    {{formAut.td_nombre}}
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    Nro copias:
                                </div>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" ng-model="formJob.job_nrocopias">
                                </div>
                            </div>

                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <button class="btn btn-outline-primary" type="button" ng-click="guardarJob()">Guardar</button>
                                    <button class="btn btn-outline-secondary" type="button" ng-click="anterior()"> Cancelar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!--
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
            -->
        </div>
    </div>


</div>
</div>
